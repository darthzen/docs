<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl" type="text/xml" title="Profiling step"?>
<!DOCTYPE book [
    <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities; ]>
    <!-- Target audience: Technical architects implementing SUSE OpenStack Cloud -->
    <book xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="book.cloud.planning" xml:lang="en" version="5.0">
        <info>
            <title>Planning an OpenStack Deployment</title>
            <productnumber>7</productnumber>
            <productname>SUSE OpenStack Cloud</productname>
            <subtitle>generated by DAPS</subtitle>
            <releaseinfo>Version 0.1</releaseinfo>
            <releaseinfo>Revision: 0</releaseinfo>
            <date>
                <?dbtimestamp format="B d, Y"?>
            </date>
            <xi:include href="authors.xml"/>
            <legalnotice>
                <para>
                    <link xlink:href="http://www.gnu.org/licenses/fdl-1.3-standalone.html">GNU Free Documentation License</link>
                </para>
            </legalnotice>
        </info>
        <chapter xml:id="cha.introduction">
            <title>Introduction</title>
            <!--
    <info>
      <abstract>
        <para> You may use this file as a template. For a complete
    DocBook reference see <citetitle xlink:href="http://www.docbook.org/tdg/en/html/docbook.html">DocBook: The Definitive
    Guide</citetitle>.
    </para>
      </abstract>
    </info>
-->

            <sect1 xml:id="sec.introduction.why">
                <title>Why do I need this?</title>
                <para>
                    The actual physical implementation and deployment of your cloud will be the shortest part of the whole project to get it up and running. The vast majority of your project time will be spent in conference rooms with whiteboards and take-out food
                    hashing out the details of what this project is going to look like. The cloud project will require the cooperation and input from a wide variety of sources, such as the storage team, network team, physical infrastructure management, end-users, legal,
                    procurement and more. Without this coordinated effort, users will get frustrated, your project will not be successful, and the whole thing is doomed from the start.
                </para>
                <!--
      <sect2 xml:id="sec.template.examples.lists.itemized">
        <title>Itemized Lists</title>
        <para>I am a paragraph in a section 2.</para>
        <itemizedlist>
          <title>Example Itemized List</title>
          <listitem>
            <para>
       Listitem 1
      </para>
          </listitem>
          <listitem>
            <para>
       Listitem 2
      </para>
          </listitem>
        </itemizedlist>
      </sect2>
      <sect2 xml:id="sec.template.examples.lists.ordered">
        <title>Ordered Lists</title>
        <orderedlist>
          <title>Example Ordered List</title>
          <listitem>
            <para>
       First item
      </para>
          </listitem>
          <listitem>
            <para>
       Second item
      </para>
          </listitem>
        </orderedlist>
      </sect2>
      <sect2 xml:id="sec.template.examples.lists.variable">
        <title>Variablelists</title>
        <variablelist>
          <title>Example Variablelist</title>
          <varlistentry>
            <term>Term 1</term>
            <listitem>
              <para>
        Definition 1
       </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Term 2</term>
            <listitem>
              <para>
        Definition 2
       </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect2>
  -->
            </sect1>
            <sect1 xml:id="sec.introduction.what">
                <title>What is the intent of this document?</title>
                <para>
                    This document is intended as a starting point for a SUSE OpenStack Cloud implementation. Use this guide as a guide to help you prepare for deployment and as a worksheet as you discuss how to configure SUSE OpenStack Cloud for your environment.
                </para>
                <para>
                    The items below are discussed in greater detail in the SUSE OpenStack Cloud deployment guide. Reference the deployment guide for an understanding of the terms and clarification. Throughout the document you will see references to the section(s) in the
                    deployment guide.
                </para>
                <para>
                    As of the time of this writing, the current version is SUSE OpenStack Cloud 7 (Newton-based release). Deployment guide links are based off of this version and may need to be adjusted for subsequent product versions.
                </para>
                <para>
                    Community documentation may be found on the OpenStack site,
                    <link xlink:href="http://docs.openstack.org/">http://docs.openstack.org/</link>. All SUSE-provided documentation, including the deployment guide, is available at:
                    <link xlink:href="https://www.suse.com/documentation/suse-cloud-7/">https://www.suse.com/documentation/suse-cloud-7/</link>
                </para>
            </sect1>
            <!--

-->
        </chapter>
        <chapter xml:id="cha.preliminary">
            <title>Preliminary Considerations</title>
            <sect1 xml:id="sec.preliminary.philosophy">
                <title>Know Your Philosophy</title>
                <para>Before you begin planning the technical details of your implementation, there are several overarching questions you will want to consider that will directly impact the overall architecture</para>
                <itemizedlist>
                    <listitem>
                        <para>What problem are you trying to solve by implementing a private Infrastructure-as-a-service (IaaS) cloud?</para>
                    </listitem>
                    <listitem>
                        <para>Who are the users of your cloud? What do they want out of it?</para>
                    </listitem>
                    <listitem>
                        <para>What are your business and technical requirements?</para>
                    </listitem>
                    <listitem>
                        <para>What are the constraints for this project?</para>
                    </listitem>
                    <listitem>
                        <para>What additional resources will you require to have a successful deployment?</para>
                    </listitem>
                </itemizedlist>
                <sect2 xml:id="sec.preliminary.philosophy.problem">
                    <title>What problem are you trying to solve?</title>
                    <para>This question is probably the most vital one to know before you begin planning your cloud. If you don't know what the goal is that you are trying to accomplish, your likelihood of achieving it is dramatically reduced.</para>
                    <para>If, for example, your overall goal is to provide a playground for your developers so they will stop annoying IT with constant requests for additional resources, you will make dramatically different decisions than if your overall goal is to
                        streamline your production environment processes.</para>
                    <para>In the first scenario, you would probably have a single, non-commercial hypervisor such as KVM or Xen. You would likely be looking to implement a relatively cheap backend for volume storage, and high-availability of your control plane may not
                        be significant. You would not likely need to have a large address space reserved for floating IP addresses to expose your cloud workloads to the outside world.</para>
                    <para>In the second scenario, a production environment, you will be much more stringent in your requirements. You will likely need multiple hypervisors to accommodate varying virtual environments (ie – production will be on VMware, developers will
                        have the cheaper KVM environment, and Windows workloads will be deployed on Hyper-V to maximise the efficiency of licensing costs). You will likely be looking for a more reliable storage infrastructure, leveraging a SAN instead of using local disk
                        storage. You may even have several storage backends that you need to accommodate. You will likely need to reserve a significant number of IP addresses for exposing these production workloads to the outside world.</para>
                    <para>Without understanding exactly what you are trying to accomplish with your cloud implementation, you are much more likely to make decisions that will be sub-optimal, which may result in significant costs (in time and money) to rectify.
                        Establishing a correct course here will inform every other decision you make for the better.</para>
                    <para></para>
                </sect2>
                <sect2 xml:id="sec.preliminary.philosophy.users">
                    <title>Who are the users of your cloud?</title>
                    <para>This question is similar to the first, but it is still worthy of considering individually. If the intended users of the cloud are not in-line with the overall goal of the cloud, then significant frustration will likely emerge. Knowing who all
                        of the intended users are and what their needs and expectations are can help you head that frustration off before it festers and impacts productivity.</para>
                    <para>If, for example, your stated goal is to provide a playground for developers, but there is also going to be a significant number of less-technical users, you will want to make sure you cater to both user groups. The less-technical users will
                        require significantly more documentation of your processes for using the cloud, and formal training may be appropriate to ensure they don't get frustrated and refuse to use it.</para>
                </sect2>
                <sect2 xml:id="sec.preliminary.philosophy.requirements">
                    <title>What are your business and technical requirements?</title>
                    <para>Most enterprise IT environments have specific expectations for uptime, typically in the form of a Service-Level Agreement, or SLA. Stringent SLA's require higher budgets to accommodate higher quality and higher quantities of hardware,
                        networking, and physical infrastructure (power, cooling, disaster-recovery processes, etc). In addition, if you work in government, retail, or healthcare, you will likely have specific compliance requirements for things like PCI, HIPAA, or Common
                        Criteria and these need to be taken into account as well.</para>
                </sect2>
                <sect2 xml:id="sec.preliminary.philosophy.constraints">
                    <title>What are the constraints for this project?</title>
                    <para>Every project is short on something, whether it's manpower, money, or time. This falls squarely into the realm of the old adage, “You can pick any two of fast, cheap, and high quality. You can't have all three.” Often-times ill-informed
                        management will attempt to defy the laws of physics and human nature and require all three, but realistically speaking, that's not going to happen. Understanding the priority of your constraints can help you set management expectations appropriately
                        so that you have achievable success criteria.</para>
                </sect2>
                <sect2 xml:id="sec.preliminary.philosophy.resources">
                    <title>What additional resources will you need?</title>
                    <para>Typically it is a fairly small team that is given the charge to build out your private IaaS cloud. You will need to plan on getting input and assistance from a wide variety of other teams, such as storage, networking, and physical
                        infrastructure. Identifying whose help you will need and when you will need it allows them to plan and give your needs the full attention they require.</para>
                </sect2>
            </sect1>
        </chapter>

        <chapter xml:id="cha.poc">
            <title>Performing a Proof-of-Concept</title>
            <para>If you are using this guide to deploy a proof-of-concept (POC), here are some additional steps to consider.</para>
            <sect1 xml:id="sec.poc.steps">
                <title>Pre-POC planning meeting</title>
                <itemizedlist>
                    <title>Before the POC begins, schedule a meeting to discuss the following topics:</title>
                    <listitem>
                        <para>Is the hardware you are planning to use for the proof-of-concept (POC) certified for SUSE Linux Enterprise Server? You may want to compare your planned hardware setup with the published reference architectures available at
                            <link xlink:href="https://www.suse.com/products/suse-cloud/resource-library/#RA">https://www.suse.com/products/suse-cloud/resource-library/#RA</link>
                        </para>
                    </listitem>
                    <listitem>
                        <para>Verify your intended method for installing the Admin node. Do you have physical access to the node, and if so can you use a DVD or USB drive to install? If you do not have physical access are you planning on attaching the ISO as a virtual DVD,
                            or will you be using a network-based PXE setup?</para>
                    </listitem>
                    <listitem>
                        <para>Confirm that the BIOS, fiber-channel cards, network cards, IPMI devices, and BMC' controllers are all updated to the latest firmware from the manufacturer.</para>
                    </listitem>
                    <listitem>
                        <para>Discuss the planned network, including IP address ranges, VLAN tags, Neutron plugins, and, if using the Open vSwitch plugin, the encapsulation method. Make sure there is an established schedule to have that configuration done before you begin
                            the POC.</para>
                    </listitem>
                    <listitem>
                        <para>Are you planning on having a highly-available control plane? If so, will there be a difference in the hardware between the POC and production? For example, in the POC you may choose to use a two-node cluster hosting all services, but in
                            production use three-node clusters and split out services onto their own individual clusters.</para>
                    </listitem>
                    <listitem>
                        <para>If you choose to have a highly available control plane we strongly recommend you choose teaming mode and have at least 2 NIC’s available on all nodes. We recommend that you have at least 4 for redundancy on the network stack.</para>
                    </listitem>
                    <listitem>
                        <para>Identify your STONITH method and verify that the appropriate resources are available to implement.</para>
                    </listitem>
                    <listitem>
                        <para>Source for installation media and SMT repositories (ex. USB drive brought by SE)</para>
                    </listitem>
                    <listitem>
                        <para>Use Admin Appliance? (Could remove the next requirement for backup/restore)</para>
                    </listitem>
                    <listitem>
                        <para>Backup/restore plan for the admin server if the installation must be repeated</para>
                    </listitem>
                    <listitem>
                        <para>What will the patching/upgrade strategy be? (update barclamp, SUSE Manager, none)</para>
                    </listitem>
                    <listitem>
                        <para>Build a SLE12 SP1 JeOS Live USB or ISO image using SUSE Studio with supportutils package and setup network configuration with yast at firstboot. This will come in handy for troubleshooting network issues on any hardware so that we can setup the
                            network configuration properly for crowbar.</para>
                    </listitem>
                    <listitem>
                        <para>On the first day of the POC:</para>
                        <itemizedlist mark="opencircle">
                            <listitem>
                                <para>Bring JeOS image</para>
                            </listitem>
                            <listitem>
                                <para>Collect a supportconfig from all systems that will be part of the cloud infrastructure</para>
                            </listitem>
                            <listitem>
                                <para>Use the supportconfigs to review interface map/network conduit/network info in network.json
                                    <link xlink:href="https://www.suse.com/documentation/suse-cloud-5/singlehtml/book_cloud_deploy/book_cloud_deploy.html#app.deploy.network_json">DG Appendix D</link>
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect1>
        </chapter>
        <chapter xml:id="cha.worksheet">
            <title>Worksheet</title>
            <sect1 xml:id="sect.worksheet.ha">
                <title>High-Availability</title>
                <para>In order to scale your cloud effectively and still provide the levels of service that your users expect, you will likely need to implement high-availability services for the control plane. The level of clustering will depend greatly on the
                    mixture of your level of paranoia, combined with the practical limits of budget, physical resources, and ability/willingness to introduce additional complexity to your implementation.</para>
                <itemizedlist>
                    <para>If you decide to cluster, you can take two different approaches:</para>
                    <listitem>
                        <para>Build a single cluster and put all the services on it. If you need to minimize resource contention, you may introduce affinity rules to the cluster that will have it prefer to keep the active/passice services (PostgreSQL and RabbitMQ) on their
                            own server, and allow ha-proxy to load-balance the rest of the services.</para>
                    </listitem>
                    <listitem>
                        <para>Build multiple clusters that can each be dedicated to specific OpenStack services. This can be as simple and efficient as a single 2-node cluster for PostgreSQL/RabbitMQ, and a separate cluster for the remaining load-balanced services, or even
                            wholly-dedicated clusters for any number of services.</para>
                    </listitem>
                </itemizedlist>
                <para>The decision for your cluster configuration will directly impact the number of servers you will need to buy, although usually budget is the limiting factor for how many systems you can have, and you will need to optimize your resources and
                    configuration accordingly.
                    <link xlink:href="https://www.suse.com/documentation/suse-cloud-5/singlehtml/book_cloud_deploy/book_cloud_deploy.html#sec.depl.reg.ha.control">DG 2.6.2</link>
                </para>
                <para>Regardless of your eventual cluster configuration, you will need to prepare shared storage for housing your PostgreSQL data, and again for RabbitMQ. What will you use for your shared storage for the database-server and rabbitmq-server? (NFS,
                    DRBD (requires an extra disk for each node in the cluster) external NAS, SAN)</para>
                <para>DG section 2.7.5</para>
                <para>DG section 2.7.2</para>
                <para>The next step is to determine what mechanism you want to use for cluster fencing, or STONITH (Shoot The Other Node In The Head). The most popular fencing method is SBD, which requires a small shared block device between all the nodes in the
                    cluster. You may even want to consider multiple SBD devices via multipathing to reduce false alarms and create a more robust solution. Additional STONITH methods include integrating with the IPMI device in your server, or leveraging a
                    network-connected APC. Please note that if you decide not to use SBD for fencing that you will want to have an odd number of servers in your cluster so that quorum can be attained.</para>
                <para>DG section 2.7.5</para>
            </sect1>
            <sect1 xml:id="sect.worksheet.net">
                <title>Networking</title>
                <para>Networking is probably the single most important area for planning, as it is the most complex and is extremely difficult to change after deployment without having to rebuild your cloud.</para>
                <sect2 xml:id="sect.worksheet.net.description">
                    <title>Understanding Network Choices</title>
                    <itemizedlist>
                        <para>Therefore, prior to commencing any cloud deployment, please define the following network subnets (defaults in parentheses):</para>
                        <listitem>
                            <para>Admin (<systemitem class="netmask">192.168.124.0/24</systemitem>) – Administrative network that will be used to deploy and maintain all the cloud infrastructure nodes. The size of this subnet is the upper limit to the number of
compute/control/storage nodes that can be provisioned. This network will have a PXE boot server on it, and therefore must be isolated from other networks. The TFTP service required for PXE does not understand VLAN tags, so it must appear as an
untagged network (ie - trunk the ports).</para>
                        </listitem>
                        <listitem>
                            <para>BMC (<systemitem class="netmask">192.168.124.0/24</systemitem>) – Administrative network for accessing IPMI devices for the cloud infrastructure. It must be on the same subnet as the admin network unless you use a VLAN.</para>
                        </listitem>
                        <listitem>
                            <para>Fixed (<systemitem class="netmask">192.168.123.0/24 – tag 500</systemitem>) – Cloud-wide network that most cloud instances will connect to in order to interact with each other and the outside world. While some number of systems may exist in
isolated networks and are never connected to the fixed network, generally speaking the range of this subnet defines the maximum number of concurrent cloud workloads that can be run.</para>
                        </listitem>
                        <listitem>
                            <para>SDN (<systemitem class="netmask">192.168.130.0/24 – tag 700</systemitem>) – Cloud-wide network that will be used for the software-defined networking stack. The subnet for this needs to be at least as large as the admin network.</para>
                        </listitem>
                        <listitem>
                            <para>Storage (<systemitem class="netmask">192.168.125.0/24 – tag 200</systemitem>) – Network used for communicating with Swift storage nodes. Even if there are no plans to use Swift, the Admin server still requires that this network be defined. If
you opt to use SUSE Enterprise Storage and deploy it via the cloud admin node, it may live on this network as well. It is generally, however, a better idea to deploy SUSE Enterprise Storage as its own stand-alone service and integrate it with your
cloud, allowing it to provide storage to other areas in your datacenter besides just your cloud.</para>
                        </listitem>
                        <listitem>
                            <para>Public (<systemitem class="netmask">192.168.126.0/24 – tag 300</systemitem>) – Used for exposing OpenStack services and APIs to external users. Must be routable on your existing LAN. Only the control node servers will be on this network, so a small address space may be used when defining the DHCP range.</para>
                        </listitem>
                        <listitem>
                            <para>Floating (<systemitem class="netmask">192.168.126.0/24 – tag 300</systemitem>) – Used for exposing cloud instances externally. Must be the same subnet as the public network. The number of IP's designated for this network will be the hard upper
limit for the number of cloud instances that can be concurrently exposed outside of your cloud.</para>
                        </listitem>
                    </itemizedlist>
                </sect2>
                <sect2 xml:id="sec.worksheet.net.tables">
                    <title>Network Tables</title>
                    <table>
                        <title>Admin/BMC Network Address Allocation</title>
                        <tgroup cols="5">
                            <colspec colnum="1" colname="1" colwidth="20*"/>
                            <colspec colnum="2" colname="2" colwidth="33*"/>
                            <colspec colnum="3" colname="3" colwidth="10*"/>
                            <colspec colnum="4" colname="4" colwidth="33*"/>
                            <colspec colnum="5" colname="5" colwidth="4*"/>
                            <thead>
                                <row>
                                    <entry>
                                        <para>Function</para>
                                    </entry>
                                    <entry>
                                        <para>Default Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>VLAN</para>
                                    </entry>
                                    <entry>
                                        <para>IP Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>Notes</para>
                                    </entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>
                                        <para>Netmask</para>
                                    </entry>
                                    <entry>
                                        <para>255.255.255.0</para>
                                    </entry>
                                    <entry>
                                        <para>N/A</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>router</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.124.1</para>
                                    </entry>
                                    <entry>
                                        <para>None</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>admin</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.124.10-11</para>
                                    </entry>
                                    <entry>
                                        <para>None</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>DHCP</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.124.21-80</para>
                                    </entry>
                                    <entry>
                                        <para>None</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>Host</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.124.81-160</para>
                                    </entry>
                                    <entry>
                                        <para>None</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>BMC VLAN host</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.124.161</para>
                                    </entry>
                                    <entry>
                                        <para>100</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>Optional - If the IPMI devices are already configured on a VLAN and you do not wish to change their configuration, use this network.</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>BMC host</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.124.162-240</para>
                                    </entry>
                                    <entry>
                                        <para>None</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>Switch</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.124.241-250</para>
                                    </entry>
                                    <entry>
                                        <para>None</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <!--
                                <row>
                                    <entry>
                                        <para>Bastion</para>
                                    </entry>
                                    <entry>
                                        <para>None</para>
                                    </entry>
                                    <entry>
                                        <para>N/A</para>
                                    </entry>
                                    <entry>
                                        <para></para>
                                    </entry>
                                    <entry>
                                        <para>Used if you wish to dual-home the admin node and make it available on your routable network.</para>
                                    </entry>
                                </row>
-->
                            </tbody>
                        </tgroup>
                    </table>
                    <table pgwide="1">
                        <title>Bastion Network Address Allocation</title>
                        <tgroup cols="5">
                            <colspec colnum="1" colname="1" colwidth="20*"/>
                            <colspec colnum="2" colname="2" colwidth="20*"/>
                            <colspec colnum="3" colname="3" colwidth="20*"/>
                            <colspec colnum="4" colname="4" colwidth="20*"/>
                            <colspec colnum="5" colname="5" colwidth="20*"/>
                            <thead>
                                <row>
                                    <entry>
                                        <para>Subnet</para>
                                    </entry>
                                    <entry>
                                        <para>Gateway</para>
                                    </entry>
                                    <entry>
                                        <para>DNS</para>
                                    </entry>
                                    <entry>
                                        <para>IP Address</para>
                                    </entry>
                                    <entry>
                                        <para>Proxy</para>
                                    </entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table>
                    <table pgwide="1">
                        <title>Storage Network Address Allocation</title>
                        <tgroup cols="5">
                            <colspec colnum="1" colname="1" colwidth="20*"/>
                            <colspec colnum="2" colname="2" colwidth="20*"/>
                            <colspec colnum="3" colname="3" colwidth="20*"/>
                            <colspec colnum="4" colname="4" colwidth="20*"/>
                            <colspec colnum="5" colname="5" colwidth="20*"/>
                            <thead>
                                <row>
                                    <entry>
                                        <para>Function</para>
                                    </entry>
                                    <entry>
                                        <para>Default Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>VLAN</para>
                                    </entry>
                                    <entry>
                                        <para>IP Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>Notes</para>
                                    </entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>
                                        <para>host</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.125.10-239</para>
                                    </entry>
                                    <entry>
                                        <para>200</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table>
                    <table pgwide="1">
                        <title>Fixed Network Address Allocation</title>
                        <tgroup cols="5">
                            <colspec colnum="1" colname="1" colwidth="20*"/>
                            <colspec colnum="2" colname="2" colwidth="20*"/>
                            <colspec colnum="3" colname="3" colwidth="20*"/>
                            <colspec colnum="4" colname="4" colwidth="20*"/>
                            <colspec colnum="5" colname="5" colwidth="20*"/>
                            <thead>
                                <row>
                                    <entry>
                                        <para>Function</para>
                                    </entry>
                                    <entry>
                                        <para>Default Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>VLAN</para>
                                    </entry>
                                    <entry>
                                        <para>IP Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>Notes</para>
                                    </entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>
                                        <para>Netmask</para>
                                    </entry>
                                    <entry>
                                        <para>255.255.255.0</para>
                                    </entry>
                                    <entry>
                                        <para>N/A</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>router</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.123.1-49</para>
                                    </entry>
                                    <entry>
                                        <para>500</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>dhcp</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.123.50-254</para>
                                    </entry>
                                    <entry>
                                        <para>500</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table>
                    <table pgwide="1">
                        <title>Public/Floating Network Address Allocation</title>
                        <tgroup cols="5">
                            <colspec colnum="1" colname="1" colwidth="20*"/>
                            <colspec colnum="2" colname="2" colwidth="20*"/>
                            <colspec colnum="3" colname="3" colwidth="20*"/>
                            <colspec colnum="4" colname="4" colwidth="20*"/>
                            <colspec colnum="5" colname="5" colwidth="20*"/>
                            <thead>
                                <row>
                                    <entry>
                                        <para>Function</para>
                                    </entry>
                                    <entry>
                                        <para>Default Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>VLAN</para>
                                    </entry>
                                    <entry>
                                        <para>IP Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>Notes</para>
                                    </entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>
                                        <para>Netmask</para>
                                    </entry>
                                    <entry>
                                        <para>255.255.255.0</para>
                                    </entry>
                                    <entry>
                                        <para>N/A</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>router</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.126.1</para>
                                    </entry>
                                    <entry>
                                        <para>500</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>public host</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.126.2-49</para>
                                    </entry>
                                    <entry>
                                        <para>300</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>public dhcp</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.126.50-127</para>
                                    </entry>
                                    <entry>
                                        <para>300</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>floating host</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.126.129-191</para>
                                    </entry>
                                    <entry>
                                        <para>300</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table>
                    <table pgwide="1">
                        <title>Software-Defined Networking (SDN) Address Allocation</title>
                        <tgroup cols="5">
                            <colspec colnum="1" colname="1" colwidth="20*"/>
                            <colspec colnum="2" colname="2" colwidth="20*"/>
                            <colspec colnum="3" colname="3" colwidth="20*"/>
                            <colspec colnum="4" colname="4" colwidth="20*"/>
                            <colspec colnum="5" colname="5" colwidth="20*"/>
                            <thead>
                                <row>
                                    <entry>
                                        <para>Function</para>
                                    </entry>
                                    <entry>
                                        <para>Default Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>VLAN</para>
                                    </entry>
                                    <entry>
                                        <para>IP Address(es)</para>
                                    </entry>
                                    <entry>
                                        <para>Notes</para>
                                    </entry>
                                </row>
                            </thead>
                            <tbody>
                                <row>
                                    <entry>
                                        <para>Netmask</para>
                                    </entry>
                                    <entry>
                                        <para>255.255.255.0</para>
                                    </entry>
                                    <entry>
                                        <para>N/A</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry>
                                        <para>host</para>
                                    </entry>
                                    <entry>
                                        <para>192.168.130.10-254</para>
                                    </entry>
                                    <entry>
                                        <para>700</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                    <entry>
                                        <para>&nbsp;</para>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </table>
                </sect2>
                <sect2 xml:id="sec.worksheet.hypervisor">
                    <title>Compute Infrastructure Information</title>
                    <variablelist>
                        <varlistentry>
                            <term>Hypervisor(s)</term>
                            <listitem>
                                <para>With which hypervisor or hypervisors do you intend to deploy and integrate?</para>
                                <itemizedlist>
                                    <para>Options include:</para>
                                    <listitem>
                                        <para>KVM</para>
                                    </listitem>
                                    <listitem>
                                        <para>Xen</para>
                                    </listitem>
                                    <listitem>
                                        <para>VMware vSphere</para>
                                    </listitem>
                                    <listitem>
                                        <para>Hyper-V</para>
                                    </listitem>
                                    <listitem>
                                        <para>zVM</para>
                                    </listitem>
                                    <listitem>
                                        <para>Bare metal</para>
                                    </listitem>
                                </itemizedlist>
                                <caution>
                                    <para>OpenStack security groups are currently implemented via iptables for non-proprietary software-defined networking stacks (Open vSwitch, Linuxbridge, Flat).  As such, non-Linux hosts (VMware, Hyper-V, zVM) will not take advantage of these security groups and will have to handle firewall rules inside the guest workload using their native toolsets.</para>
                                </caution>
                                <para>&nbsp;</para>
                                <para>______________________________________________</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Containers</term>
                            <listitem>
                                <para>If you intend to manage containers with this implementation, which deployment/management model(s) do you intend to use?</para>
                                <itemizedlist>
                                    <para>Options include:</para>
                                    <listitem>
                                        <para>Bare metal (dedicated Docker host)</para>
                                    </listitem>
                                    <listitem>
                                        <para>Virtualized (via the
                                            <application class="software">Magnum</application>
                                            service)</para>
                                    </listitem>
                                </itemizedlist>
                                <caution>
                                    <para>The nova-docker plugin for doing Docker deployments to bare metal, outside of an orchestration service like Heat or Magnum, has been deprecated and will eventually be removed from the product.</para>
                                </caution>
                                <para>&nbsp;</para>
                                <para>______________________________________________</para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                </sect2>
                <sect2 xml:id="sec.worksheet.net.misc">
                    <title>Additional Network Information</title>
                    <variablelist>
                        <varlistentry>
                            <term>Interface Mode</term>
                            <listitem>
                                <para>Which network mode will you will be using? ((Single, Dual, Teaming) Remember to take into account whether you are using a highly available control plane or not, if so then you should choose Teaming) DG 2.1.2</para>
                                <para>&nbsp;</para>
                                <para>______________________________________________</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>FQDN</term>
                            <listitem>
                                <para>Fully Qualified Domain Name (FQDN) of the Admin server (cannot be changed after deployment).</para>
                                <para>&nbsp;</para>
                                <para>______________________________________________</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>External DNS</term>
                            <listitem>
                                <para>Are there additional DNS servers you want SUSE Cloud to forward to for non-local DNS records?</para>
                                <para>&nbsp;</para>
                                <para>______________________________________________</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>
                                <application class="software">Neutron</application>
                                L2 Plugin</term>
                            <listitem>
                                <para>Which plugin do you wish to use for your software-defined networking stack?</para>
                                <itemizedlist>
                                    <para>Options include:</para>
                                    <listitem>
                                        <para>Open vSwitch (Default)</para>
                                    </listitem>
                                    <listitem>
                                        <para>Linuxbridge</para>
                                    </listitem>
                                    <listitem>
                                        <para>VMware NSX</para>
                                    </listitem>
                                    <listitem>
                                        <para>Cisco Nexus</para>
                                    </listitem>
                                    <listitem>
                                        <para>Cisco ACI</para>
                                    </listitem>
                                    <listitem>
                                        <para>Midokura</para>
                                    </listitem>
                                </itemizedlist>
                                <caution>
                                    <para>VMware only supports vSphere as part of an OpenStack implementation if used with their NSX SDN.</para>
                                </caution>
                                <para>&nbsp;</para>
                                <para>______________________________________________</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term><application class="software">Neutron</application>
                            Encapsulation Plugin</term>
                        <listitem>
                            <para>Which packet encapsulation protocol do you wish to use for your software-defined networking stack?</para>
                            <itemizedlist>
                                <para>Options include:</para>
                                <listitem>
                                    <para>GRE(default)</para>
                                </listitem>
                                <listitem>
                                    <para>VXLAN</para>
                                </listitem>
                                <listitem>
                                    <para>VLAN</para>
                                </listitem>
                                <listitem>
                                    <para>Flat/None</para>
                                </listitem>
                            </itemizedlist>
                            <caution>
                                <para>The GRE plugin is incompatible with VMware and Hyper-V</para>
                            </caution>
                            <para>&nbsp;</para>
                            <para>______________________________________________</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
            </sect2>
            <sect2 xml:id="sec.worksheet.storage">
                <title>Storage Information</title>
                <variablelist>
                    <varlistentry>
                        <term>Image Repository</term>
                        <listitem>
                            <para>Which storage plugin do you wish to use for your image repository (<application class="software">Glance</application>)
                            </para>
                            <itemizedlist>
                                <para>Options include:</para>
                                <listitem>
                                    <para>Local</para>
                                </listitem>
                                <listitem>
                                    <para>Ceph RBD</para>
                                </listitem>
                                <listitem>
                                    <para>Swift</para>
                                </listitem>
                            </itemizedlist>
                            <para>&nbsp;</para>
                            <para>______________________________________________</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Block Storage</term>
                        <listitem>
                            <para>What storage service do you wish to use as the backend for your block storage (<application class="software">Cinder</application>)</para>
                            <itemizedlist>
                                <para>Options include:</para>
                                <listitem>
                                    <para>Local</para>
                                </listitem>
                                <listitem>
                                    <para>Ceph RBD</para>
                                </listitem>
                                <listitem>
                                    <para>NetApp</para>
                                </listitem>
                                <listitem>
                                    <para>Fujitsu</para>
                                </listitem>
                                <listitem>
                                    <para>EMC</para>
                                </listitem>
                                <listitem>
                                    <para>EqualLogic</para>
                                </listitem>
                                <listitem>
                                    <para>VMware</para>
                                </listitem>
                            </itemizedlist>
                            <para>&nbsp;</para>
                            <para>______________________________________________</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
            </sect2>
            <sect2 xml:id="sec.worksheet.smt">
                <title>Package Source Information</title>
                <variablelist>
                    <varlistentry>
                        <term>Subscription-Management Tool (SMT)</term>
                        <listitem>
                            <para>Will you utilize an existing SMT server or install one on the admin node? If existing, then indicate the FQDN below.</para>
                            <para>&nbsp;</para>
                            <para>______________________________________________</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>SUSE Manager</term>
                        <listitem>
                            <para>As an alternative to SMT, do you wish to use SUSE Manager as the source for your packages? If so, then indicate the FQDN below.</para>
                            <para>&nbsp;</para>
                            <para>______________________________________________</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
            </sect2>
        </sect1>
    </chapter>
    <chapter xml:id="cha.production">
        <title>Going from Proof-of-Concept to Production</title>
        <sect1 xml:id="sec.production.patching">
            <title>Patching Strategy</title>
            <para>Identify a strategy for how you plan to patch your cloud infrastructure</para>
            <variablelist>
                <varlistentry>
                    <term>Updater barclamp</term>
                    <listitem>
                        <para>The admin node has an "Updater" barclamp available which can be set to automatically deliver patches to the underlying cloud infrastructure servers (<emphasis>NOT</emphasis> the guest workloads).</para>
                        <orderedlist>
                            <para>These patches will automaatically be distributed when the following criteria have been met:</para>
                            <listitem><para>They are available in the repositories the admin server is using for provisioning systems</para></listitem>
                            <listitem><para>They fit the criteria identified in the barclamp</para></listitem>
                            <listitem><para>The infrastructure server initiates its chef-client run to verify its configuration</para></listitem>
                        </orderedlist>
                    </listitem>
                </varlistentry>
            </variablelist>
        </sect1>
        <sect1 xml:id="sec.production.operations">
            <title>Operational Planning</title>
            <para>What are the environmental and logistical differences between your proof-of-concept environment for which you will need to adjust your configuration?</para>
            <variablelist>
                <varlistentry>
                    <term>Networking</term>
                    <listitem><para>Subnets and VLANs</para></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Physical Infrastructure</term>
                    <listitem><para>Availability zones</para></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Control Plane</term>
                    <listitem><para>Clustering</para></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Authentication</term>
                    <listitem><para>Active Directory</para></listitem>
                </varlistentry>
                <varlistentry>
                    <term>Third-Party applications</term>
                    <listitem><para>SUSE Studio</para></listitem>
                </varlistentry>
            </variablelist>
        </sect1>
    </chapter>
</book>
